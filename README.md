# PersonSelectBot
DiscordBotでくじ引き的な人選びを実施するbot

---

##  アプリ使用前メモ

- .env.sumpleの中身を確認し、設定値を記載する。
- .sumpleをファイル名から消して.envファイルにする。

## つくりメモ

ざっくりやりたいことのメモ

~~1. 範囲内の数字をランダムで一つ返すメソッド作成~~
~~2. 渡したDiscordのニックネームをランダムで一つ返すように変更~~
~~3. 引数でランダムで引数人数分選んで返す要に変更~~
4. 引数に総当たりのtrue/falseを入れて総当たりパターンも作る。
~~5. チェック処理を実装。外出しで作る。~~
6. チェックのやり方が雑なので、後できれいにしたい。

これらを本当はISSUESで管理したい。

### アプリ仕様

- 本アプリはDiscord内のメンバー選出を実施するために使用する。
  > 対戦の時とかメンバー決めの時とかに使ってほしいかな。
- チャンネル内メンバーの中かつログイン中のメンバーから規定数選出する。
- アプリ起動はbotに対しメンションと指定された引数を設定して実行する。
  - 将来的にはスラッシュコマンドを対応させたい。。
- 引数無しの場合は１名を選出することとする。
- 「チャンネル」については以下のチャンネルを意図している。
  - テキストチャンネル
  - ボイスチャンネル
  - スレッド

---
### 入力仕様

以下の入力値を想定する。
```
@メンション 抽選人数
```

- 抽選人数: 数字であること

---
### Ver1.0で目指すアプリでできること

- ボイスチャンネルでニックネームが引っ張ってこれること。
- ボイスチャンネルに入っている人から一人選出できること。
- ボイスチャンネルに入っている人から複数人選出できること。
- 選出した結果はメンションで話しかけられたメッセージに返信で返すこと。

---
## 今後のアップデートでやりたいこと

1. ボイスチャット内 or スレッド内の全員のニックネーム取得し、1on1の総当たり表作成。
2. 引数で一度に何人選出するかを変更できるようにする。

## メモ

- ランダムで選出するために、ランダム数字を返す関数(randomNum())が必要。
- randomNum()にCollection.sizeでそのチャンネルに参加しているメンバー数を取得して渡す。
- sizeは受信したmessageから、message.channel.members.sizeでチャンネル内のメンバーのsizeを返す。
- randomNum() の戻り値がintで0 ～ size-1 になっているので、Collection.at(戻り値).displayName で選ばれた人のニックネームを取得する。
- messageに対してreplyで取得した displayName を返却する。